
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Hello, world!</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/main.css'%}">

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
  </head>
  <body>
    <nav id="header" class="navbar navbar-fixed-top">
        <div id="header-container" class="container navbar-container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
                </button>
                <a id="brand" class="navbar-brand" href="#">Project name</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="update_new">Home</a></li>
                    <li><a href="pending_order_None">Pending Order</a></li>
                    <li><a href="#contact">Contact</a></li>
                    
                </ul>
                <ul class="nav navbar-nav pull-right">
                    <li><a href="logout"><i class="fa fa-power-off" style="font-size:24px;color:red"></i></a></li>
                </ul>
            </div><!-- /.nav-collapse -->
        </div><!-- /.container -->
    </nav><!-- /.navbar -->
<div class="container"></div>
{% block body %}
<div id="contentdiv" style="clear: both;">
    <div class="table-responsive bg-light">
        <div class="table_top" id="table_top">
            <form method="POST" class="post-form" enctype="multipart/form-data" action="/mysuperadmin/update_new">
                {% csrf_token %}
                <table style="float:left;" width="100%" align="center" cellpadding="0" cellspacing="0" class="table table-curved table-bordered table-striped">
                    <tbody>
                        <tr>
                            <td align="center">
                                <div id="header">
                                    <span>Add New Product</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                               
                                <table width="100%" align="center" class="table table-bordered table-hover table-striped">
                                    <td  width="94%">
                                        <div class="form-group row"> 
                                            <label class="col-sm-3 col-form-label">Product Name</label>  
                                            <div class="col-sm-3">  
                                                <input type="text" class="form-control" name="prod_name" id="id_prod_name" value="{{item.prod_name}}" maxlength="50" required />     
                                            </div>  
                                            <label class="col-sm-3 col-form-label">Price</label>  
                                            <div class="col-sm-3">  
                                                <input type="number" class="form-control" name="price" id="id_price"  value="{{item.price}}" maxlength="50" required />     
                                            </div> 
                                        </div>

                                        <div class="form-group row">  
                                            <label class="col-sm-3 col-form-label">Category</label>  
                                            <div class="col-sm-3">  
                                                <input type="text" class="form-control" name="category" id="id_category"  value="{{item.category}}" maxlength="50" required />
                                            </div>  
                                            <label class="col-sm-3 col-form-label">Sub-Category</label>  
                                            <div class="col-sm-3"> 
                                                <input type="text" class="form-control" name="sub_category" id="id_sub_category"  value="{{item.sub_category}}" maxlength="50" required/>
                                               
                                            </div> 
                                        </div> 
                                        
                    
                                        <div class="form-group row">  
                                            <label class="col-sm-3 col-form-label">Descriptions</label>  
                                            <div class="col-sm-9">  
                                                <textarea type="text" class="form-control" name="prod_desc" id="id_prod_desc"  value="{{item.prod_desc}}" maxlength="300">{{item.prod_desc}}</textarea>
                                            </div>  
                                        </div>
                                        
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Status</label>  
                                            <div class="col-sm-3">  
                                                <select class="form-control" name="status" id="id_status" required />
                                                    <option value="{{item.status}}">{{item.status}}</option>
                                                    <option value="Active">Active</option>
                                                    <option value="Inactive">Inactive</option>
                                                </select>      
                                            </div>
                                            <label class="col-sm-3 col-form-label">Product Image</label>  
                                            <div class="col-sm-3">  
                                                <input id="id_imageUpload" type="file" name="prod_image" placeholder="Photo" capture>      
                                            </div> 
                                        </div>  
                                                <input type="hidden" class="form-control" name="id" id="id_id"  value="{{item.id}}" />      
                                    </td>           
                                </table>
                                <table width="100%" cellpadding="0" cellspacing="0" border="0" class="head1" >
                                    <tr>
                                        <div class="form-group row" >
                                            <div class="col-sm-7"></div>
                                            <div class="col-sm-5">
                                                <button style="border:none;" type="submit" value="Submit">
                                                    <a class="btn" style="background-color: green;">Submit</a>
                                                </button>

                                                <a class="btn btn-primary" style="background-color: yellow; color: black;" href="/mysuperadmin/update_new">New</a>
                                            </div>
                                        </div>
                                    </tr> 
                                    <tr></tr>
                                </table> 
                            </td>
                    
                        </tr>
                    </tbody>
                </table>
            </form>
            
        </div>   
    </div>
    

    
        

    <center><h4><b>Product List</b></h4></center>
   
    <div class="table-responsive">
        <table id="bootstrapdatatable" class="table table-striped table-bordered" width="100%">
            <thead>
                <th style="text-align:center">Edit</th>
                <th style="text-align:center">SL No.</th>
                <th style="text-align:center">Product Name</th>
                <th style="text-align:center">Product Price</th>
                <th style="text-align:center">Category</th>
                <th style="text-align:center">Sub Category</th>
                <th style="text-align:center">Image</th>
                <th style="text-align:center">Status</th>
                <th style="text-align:center">Date</th>
                <th style="text-align:center">Descriptions</th>
                
             

            </thead>
            <tbody>
            {% for product in products %}  
                <tr>  
                    <td><p data-placement="top" data-toggle="tooltip" title="Edit"><a href="/mysuperadmin/update_{{ product.id }}" class=" btn-primary btn-xs" data-title="Edit" ><span class="glyphicon glyphicon-pencil"></span></a></p></td>
                    <td style="text-align:center">{{ forloop.counter }}</td> 
                    <td style="text-align:center">{{ product.prod_name }}</td>  
                    <td style="text-align:center">{{ product.price }}</td>  
                    <td style="text-align:center">{{ product.category }}</td>  
                    <td style="text-align:center">{{ product.sub_category }}</td> 
                    <td style="text-align:center"><img id="slip_image_{{ product.prod_id }}" src="/media/{{ product.prod_image }}" width="30px;" height="30px" onclick="window.open('/media/{{ product.prod_image }}', '_blank');"><span id="error_{{ product.prod_id }}"></span> </td>  
                    <script>
                        var img = document.getElementById("slip_image_{{ product.prod_id }}");
                        img.onerror = function () { 
                            this.style.display = "none";
                            document.getElementById("error_{{ product.prod_id }}").innerHTML='None'
                        }
                    </script> 
                    <td style="text-align:center">{{ product.status }}</td>
                    <td style="text-align:center; width: 100px;">{{ product.pub_date|date:'j-M-Y' }}</td>  
                    <td style="text-align:center">{{ product.prod_desc }}</td>    

                </tr>  
                {% endfor %} 
            </tbody>
     
        </table>

    </div>

</div>

{% endblock body %}
<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">




<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
 
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
<script>
$(document).ready(function(){

var myNavBar = {

    flagAdd: true,

    elements: [],

    init: function (elements) {
        this.elements = elements;
    },

    add : function() {
        if(this.flagAdd) {
            for(var i=0; i < this.elements.length; i++) {
                document.getElementById(this.elements[i]).className += " fixed-theme";
            }
            this.flagAdd = false;
        }
    },

    remove: function() {
        for(var i=0; i < this.elements.length; i++) {
            document.getElementById(this.elements[i]).className =
                    document.getElementById(this.elements[i]).className.replace( /(?:^|\s)fixed-theme(?!\S)/g , '' );
        }
        this.flagAdd = true;
    }

};


/**
 * Init the object. Pass the object the array of elements
 * that we want to change when the scroll goes down
 */
myNavBar.init(  [
    "header",
    "header-container",
    "brand"
]);

/**
 * Function that manage the direction
 * of the scroll
 */
function offSetManager(){

    var yOffset = 0;
    var currYOffSet = window.pageYOffset;

    if(yOffset < currYOffSet) {
        myNavBar.add();
    }
    else if(currYOffSet == yOffset){
        myNavBar.remove();
    }

}

/**
 * bind to the document scroll detection
 */
window.onscroll = function(e) {
    offSetManager();
}

/**
 * We have to do a first detectation of offset because the page
 * could be load with scroll down set.
 */
offSetManager();
});
</script>
{% block js%}
<script>

    $(document).ready(function() {
        $('#bootstrapdatatable').DataTable({     
          "aLengthMenu": [[5, 10, 20, 50,100, -1], [5, 10, 20, 50,100, "All"]],
            "iDisplayLength": 5
           } 
        );
    } );
    $(document).ready(function() {
        $('#bootstrapdatatabl').DataTable({     
          "aLengthMenu": [[5, 10, 20, 50,100, -1], [5, 10, 20, 50,100, "All"]],
            "iDisplayLength": 20
           } 
        );
    } );
    
</script>
{% endblock js%}

</body>
</html> 